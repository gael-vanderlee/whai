---
alwaysApply: true
---
ALWAYS begin your response by telling me what AI model you are using. Just say the name of the model like (claude-3.5-sonnet or gemini-2.5-pro)

# Overall guidelines
The overall philosophy is to write easy to read, easy to maintain, clean code.
Avoid boilerplate, avoid making too many checks and too much abstractions. You should still write objects, functions and separate files for clarity, but let's keep things short and simple. Don't write too many files, make a lot of folders and sub folder, and don't write too many functions or checks or abstractions if they are not necessary.

Always use best and modern practices for your code, project structure, naming schemes etc.
Take a test driven development approach for bug fixing and feature implementation.

DO NOT write anything temporary 

## Error handling
Generally, if the code doesn't work as it should, it should crash. 
I want to know when there are issues.
Unless it's a process that often doesn't work for reasons outside our control, or if it's something like an API call that can take multiple tries, it should crash on error. Minimize try except, surface the problems.

## Bugfixing
When fixing bugs, do not start by fixing the bug.
ALWAYS start by debugging to find the **ROOT CAUSE** of the issue.
Don't just suppose what's happening, add logging to confirm it.
Write a unit test, make sure it captures the bug properly.
Once you are certain you have found, identified and verified the root cause, ONLY THEN fix the bug.
Finally, verify your fix with the unit test.

## Code style
AVOID DUPLICATE CODE AT ALL COSTS.
Use best practices and keep the code clean and readable.
The code should be written to be maintainable.
Separate code into relevant files and maximize maintainability.
Prefer underscore over camel case for variable names.
Make variable names descriptive.
Don't comment every line, but do add docstrings and comment semantic chunk of lines (like a loop, or a chunk that parses a file).
Use f strings to keep strings clean.

Keep languages seperate. Python code in py files, Javascript in js files and HTML in html files. Minimize mixing within one file.
Likewise, yaml goes in yaml files, toml in toml, markdown in markdown. Don't write markdown in python (for a system prompt for example), it should import from a .md file.

Prefer top level imports over in function imports to make function calls fast.
Make sure not to re import already imported libraries.

## Project code
This project uses `uv` for virtual environment management.
The virtual environment is located in the project root under .venv.
IMPORTANT: when running python, make sure you activate the virtual env. You can use uv directly like so `uv run example.py`.
Add logging for debugging purposes to the code.
Keep in mind the goal of this tool is to be fast and lightweight.

## Unit testing
Every important function should have a corresponding unit test using Pytest. 
NEVER WRITE DANGEROUS COMMANDS even if it a test that should fail or prevent it. Do not risk it.
Never adapt the project code or implement contingencies for unit tests. Tests should adapt to the code, never the other way around.

Run units tests yourself before and after changes to verify your impact and make sure you didn't break anything else.

# Evergreen Code and Documentation Guidelines
Yes
Avoid Temporal or Transitional Language
- Do not use time-dependent expressions like “temporary,” “new,” “old,” “before implementation,” or “to be changed later.”
- All code and comments must remain valid and understandable regardless of project stage or feature lifecycle.
Write as if the Code Is Final
- Every comment, docstring, and test description should make sense to a future reader who knows nothing about prior versions or pending changes.
No Process Commentary in Code
- Do not include meta-comments about the development process (e.g., “this should fail,” “for now,” “after refactor”).
- Comments should describe what the code does and why, not how or when it was written.
Refactor or Remove Obsolete Notes Immediately
- If a test or comment becomes outdated after implementation, update or remove it as part of the same commit.

## Documentation

### Documentation guidelines
Here are a few lines you can add to the Documentation section of your `@coding-style.mdc` to clearly express your documentation preferences for future reference:
- Documentation should be clear, concise, and well-structured.
- Use section titles and subtitles, but avoid excessive bold/italic formatting.
- Use plain lists for steps and details (do not bold or decorate each list item).
- Use backticks for file names, command names, paths, and code references (e.g., `main.py`, `terma "your question"`).
- Organize information by logic and relevance, not by verbosity or repetition.
- Prefer plain English and practical examples; avoid over-formatting and complex markdown.

### Automatic updating
The project contains user documentation (like README.md and others) as well as agent documentation, that can be passed as context to coding agents (located in .cursor/rules). The agent documentation contains useful information for understanding the project: structure, purpose, vision, libraries used, coding style etc.
When working on the project, you should always look for:
1. Changes are made to the files that makes the documentation obsolete or incomplete
2. If the code and the documentation are not aligned (contradictions, incomplete information etc)
In those cases, you should inform the user of the situation, and propose a solution.

### Changelog
Once a feature has been implemented or a bug has been confirmed fixed, update the CHANGELOG.md file in order to document what's been done, and when. Keep it concise, but make sure it contains the important information (what core of the issue was, what decision was taken, how the fix was implemented).
